l3_complaints_call_to_competitor_features:
  feature_list:
    complaints_call_to_dtac_count: "sum(complaints_call_to_dtac_count)"
    complaints_call_to_dtac_duration_sum: "sum(complaints_call_to_dtac_duration_sum)"
    complaints_call_to_true_count: "sum(complaints_call_to_true_count)"
    complaints_call_to_true_duration_sum: "sum(complaints_call_to_true_duration_sum)"
  granularity: "subscription_identifier, start_of_month"

l3_complaints_nps_scoring:
  feature_list:
    complaints_avg_nps: "sum(complaints_avg_nps * record_count)/sum(record_count)"
    record_count: "sum(record_count)"
  granularity: "subscription_identifier, start_of_month"

l3_complaints_traffic_to_dtac_web_resources:
  where_clause: ""
  type: "monthly"
  feature_list:
    sum: [
      "complaints_total_traffic_to_dtac",
      "complaints_total_trans_to_dtac"
    ]
  granularity: "subscription_identifier,start_of_month"

l3_complaints_training:
  feature_list:
    total_days_survey: "count(event_partition_date)"
    complaints_avg_csi_chatbot_score: "round(avg(complaints_avg_csi_chatbot_score))"
  granularity: "access_method_num, start_of_month"
  output_catalog: "l3_complaints_training"  # for massive_processing function
  partition_num_per_job: 1  # for massive_processing function
  #========= optional #left join ==========#
#  join_column_with_cust_profile:  # for massive_processing function
#    access_method_num: access_method_num  # for massive_processing function
#    start_of_month: start_of_month  # for massive_processing function
