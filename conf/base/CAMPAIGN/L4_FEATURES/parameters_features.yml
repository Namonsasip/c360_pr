l4_campaign_postpaid_prepaid_fbb_features:
  partition_by: ["subscription_identifier"]
  feature_list:
    min: [
      'campaign_overall_count_sum'
      ,'campaign_total_by_call_center_sum'
      ,'campaign_total_eligible_by_call_center_sum'
      ,'campaign_total_success_by_call_center_sum'
      ,'campaign_total_by_sms_sum'
      ,'campaign_total_eligible_by_sms_sum'
      ,'campaign_total_success_by_sms_sum'
      ,'campaign_total_upsell_xsell_by_call_center_sum'
      ,'campaign_total_upsell_xsell_eligible_by_call_center_sum'
      ,'campaign_total_upsell_xsell_success_by_call_center_sum'
      ,'campaign_total_others_by_call_center_sum'
      ,'campaign_total_others_by_eligible_call_center_sum'
      ,'campaign_total_others_success_by_call_center_sum'
      ,'campaign_total_retention_by_call_center_sum'
      ,'campaign_total_retention_eligible_by_call_center_sum'
      ,'campaign_total_retention_success_by_call_center_sum'
      ,'campaign_total_upsell_xsell_by_sms_sum'
      ,'campaign_total_upsell_xsell_eligible_by_sms_sum'
      ,'campaign_total_upsell_xsell_success_by_sms_sum'
      ,'campaign_total_others_by_sms_sum'
      ,'campaign_total_others_eligible_by_sms_sum'
      ,'campaign_total_others_success_by_sms_sum'
      ,'campaign_total_retention_by_sms_sum'
      ,'campaign_total_retention_eligible_by_sms_sum'
      ,'campaign_total_retention_success_by_sms_sum'

    ]
    max: [  'campaign_last_communication_date_max'
      ,     'campaign_overall_count_sum'
      ,     'campaign_total_by_call_center_sum'
      ,     'campaign_total_eligible_by_call_center_sum'
      ,     'campaign_total_success_by_call_center_sum'
      ,     'campaign_total_by_sms_sum'
      ,     'campaign_total_eligible_by_sms_sum'
      ,     'campaign_total_success_by_sms_sum'
      ,     'campaign_total_upsell_xsell_by_call_center_sum'
      ,     'campaign_total_upsell_xsell_eligible_by_call_center_sum'
      ,     'campaign_total_upsell_xsell_success_by_call_center_sum'
      ,     'campaign_total_others_by_call_center_sum'
      ,     'campaign_total_others_by_eligible_call_center_sum'
      ,     'campaign_total_others_success_by_call_center_sum'
      ,     'campaign_total_retention_by_call_center_sum'
      ,     'campaign_total_retention_eligible_by_call_center_sum'
      ,     'campaign_total_retention_success_by_call_center_sum'
      ,     'campaign_total_upsell_xsell_by_sms_sum'
      ,     'campaign_total_upsell_xsell_eligible_by_sms_sum'
      ,     'campaign_total_upsell_xsell_success_by_sms_sum'
      ,     'campaign_total_others_by_sms_sum'
      ,     'campaign_total_others_eligible_by_sms_sum'
      ,     'campaign_total_others_success_by_sms_sum'
      ,     'campaign_total_retention_by_sms_sum'
      ,     'campaign_total_retention_eligible_by_sms_sum'
      ,     'campaign_total_retention_success_by_sms_sum'

    ]
    sum: [
      'campaign_overall_count_sum'
      ,'campaign_total_by_call_center_sum'
      ,'campaign_total_eligible_by_call_center_sum'
      ,'campaign_total_success_by_call_center_sum'
      ,'campaign_total_by_sms_sum'
      ,'campaign_total_eligible_by_sms_sum'
      ,'campaign_total_success_by_sms_sum'
      ,'campaign_total_upsell_xsell_by_call_center_sum'
      ,'campaign_total_upsell_xsell_eligible_by_call_center_sum'
      ,'campaign_total_upsell_xsell_success_by_call_center_sum'
      ,'campaign_total_others_by_call_center_sum'
      ,'campaign_total_others_by_eligible_call_center_sum'
      ,'campaign_total_others_success_by_call_center_sum'
      ,'campaign_total_retention_by_call_center_sum'
      ,'campaign_total_retention_eligible_by_call_center_sum'
      ,'campaign_total_retention_success_by_call_center_sum'
      ,'campaign_total_upsell_xsell_by_sms_sum'
      ,'campaign_total_upsell_xsell_eligible_by_sms_sum'
      ,'campaign_total_upsell_xsell_success_by_sms_sum'
      ,'campaign_total_others_by_sms_sum'
      ,'campaign_total_others_eligible_by_sms_sum'
      ,'campaign_total_others_success_by_sms_sum'
      ,'campaign_total_retention_by_sms_sum'
      ,'campaign_total_retention_eligible_by_sms_sum'
      ,'campaign_total_retention_success_by_sms_sum'

    ]
    avg: [
      'campaign_overall_count_sum'
      ,'campaign_total_by_call_center_sum'
      ,'campaign_total_eligible_by_call_center_sum'
      ,'campaign_total_success_by_call_center_sum'
      ,'campaign_total_by_sms_sum'
      ,'campaign_total_eligible_by_sms_sum'
      ,'campaign_total_success_by_sms_sum'
      ,'campaign_total_upsell_xsell_by_call_center_sum'
      ,'campaign_total_upsell_xsell_eligible_by_call_center_sum'
      ,'campaign_total_upsell_xsell_success_by_call_center_sum'
      ,'campaign_total_others_by_call_center_sum'
      ,'campaign_total_others_by_eligible_call_center_sum'
      ,'campaign_total_others_success_by_call_center_sum'
      ,'campaign_total_retention_by_call_center_sum'
      ,'campaign_total_retention_eligible_by_call_center_sum'
      ,'campaign_total_retention_success_by_call_center_sum'
      ,'campaign_total_upsell_xsell_by_sms_sum'
      ,'campaign_total_upsell_xsell_eligible_by_sms_sum'
      ,'campaign_total_upsell_xsell_success_by_sms_sum'
      ,'campaign_total_others_by_sms_sum'
      ,'campaign_total_others_eligible_by_sms_sum'
      ,'campaign_total_others_success_by_sms_sum'
      ,'campaign_total_retention_by_sms_sum'
      ,'campaign_total_retention_eligible_by_sms_sum'
      ,'campaign_total_retention_success_by_sms_sum'
    ]
  read_from: "l2"


l4_campaign_top_channel_features_int:
  partition_by: ["subscription_identifier", "campaign_channel"]
  feature_list:
    sum: ["campaign_channel_success_ratio_sum"]
  read_from: "l2"

l4_campaign_top_channel_features:
  where_clause: ""
  feature_column:
    fav_channel: "campaign_channel"
  partition_by: ["subscription_identifier", "start_of_week"]
  order_by_column_prefix: "sum_campaign_channel_success_ratio_sum"
  read_from: "l2"
  to_join: True
