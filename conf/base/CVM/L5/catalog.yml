_spark_parquet: &spark_parquet
  type: kedro.contrib.io.pyspark.SparkDataSet
  file_format: "parquet"
  save_args:
    mode: "overwrite"

# feature important columns
important_columns:
  type: kedro.contrib.io.yaml_local.YAMLLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/important_columns

null_columns:
  type: kedro.contrib.io.yaml_local.YAMLLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/null_columns_remove_key

# diagnostic metric, plots and tables
models_diags:
  type: kedro.io.PickleLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/models_diags

sub_id_mapping:
  <<: *spark_parquet
  filepath: dbfs:/mnt/customer360-blob-data/C360/CVM/l5_cvm_sub_id_mapping/

preprocessing_pipeline:
  type: datasets.ml_pipeline.MLPipeline
  filepath: /dbfs/mnt/customer360-cvm/preprocessing_pipeline_remove_key

random_forest:
  type: kedro.io.PickleLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/random_forest_remove_key
#  filepath: /dbfs/mnt/customer360-cvm/random_forest_zero

treatments_chosen:
  type: kedro.io.csv_local.CSVLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/treatments_chosen.csv

treatments_chosen_test:
  type: kedro.io.csv_local.CSVLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/treatments_chosen_test.csv

treatments_chosen_test_new:
  type: kedro.io.csv_local.CSVLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/treatments_chosen_test_new.csv

treatments_chosen_spark:
  type: kedro.contrib.io.pyspark.SparkDataSet
  filepath: /mnt/customer360-cvm/treatments_chosen.csv
  file_format: csv
  load_args:
    header: True
    inferSchema: True
  save_args:
    sep: ','
    header: True

treatments_chosen_translated:
  type: kedro.contrib.io.pyspark.SparkDataSet
  filepath: /mnt/customer360-cvm/treatments_chosen_translated.csv
  file_format: csv
  load_args:
    header: True
    inferSchema: True
  save_args:
    sep: ','
    header: True

treatments_chosen_history_input:
  <<: *spark_parquet
  filepath: dbfs:/mnt/customer360-blob-data/C360/CVM/l5_cvm_treatments_chosen_history/

# the same as above - used when the dataset is both an input and output of a node
treatments_chosen_history_output:
  <<: *spark_parquet
  filepath: dbfs:/mnt/customer360-blob-data/C360/CVM/l5_cvm_treatments_chosen_history/

# technical dataset - used to properly topologically sort the pipeline
treatments_deployed:
  type: kedro.io.PickleLocalDataSet
  filepath: /dbfs/mnt/customer360-cvm/treatments_deployed

# table for ATL to BTL mapping
ard_btl_offer_mapping:
  type: kedro.contrib.io.pyspark.SparkDataSet
  filepath: /mnt/customer360-cvm/ard_btl_offer_mapping_20200811.csv
  file_format: csv
  load_args:
    header: True
    inferSchema: True
  save_args:
    sep: ','
    header: True

# table for package pref test overwrite mapping
ard_package_pref_test_mapping:
  type: kedro.contrib.io.pyspark.SparkDataSet
  filepath: /mnt/customer360-cvm/ard_package_pref_variation_20210729.csv
  file_format: csv
  load_args:
    header: True
    inferSchema: True
  save_args:
    sep: ','
    header: True

# connection edges
customer_id_edges:
  <<: *spark_parquet
  filepath: /dbfs/mnt/customer360-cvm/customer_id_edges3

# customer ids
customer_ids:
  <<: *spark_parquet
  filepath: /dbfs/mnt/customer360-cvm/customer_ids2

# geolocation data
geo_home_work_location_id:
  <<: *spark_parquet
  filepath: /dbfs/mnt/customer360-blob-output/C360/GEO/l4_features/geo_home_work_location_id/
